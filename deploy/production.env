# HOA Management System - Production Environment Configuration
# Copy this file to .env in the project root and update the values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Node.js Environment
NODE_ENV=production

# Server Ports
APP_PORT=3001
FRONTEND_PORT=3000

# Domain Configuration (used for SSL and CORS)
DOMAIN=sandersoncreekhoa.com
BACKEND_IMAGE=ghcr.io/karolswdev/hoa-backend:latest
FRONTEND_IMAGE=ghcr.io/karolswdev/hoa-frontend:latest
APP_VERSION=1.0.0
VITE_APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite Database Path (inside container)
DB_PATH=/usr/src/app/backend/database/hoa.db

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration - CHANGE THESE IN PRODUCTION!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-change-this-in-production

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB=10

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,gif

# Upload directory (inside container)
UPLOAD_DIR=/usr/src/app/backend/uploads

# =============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# =============================================================================

# SMTP Configuration (uncomment and configure if needed)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# Email settings
# FROM_EMAIL=noreply@your-domain.com
# ADMIN_EMAIL=admin@your-domain.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Log Directory
LOG_DIR=/var/log/hoa-management

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting (requests per window)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Configuration (handled by nginx/certbot)
SSL_ENABLED=true
FORCE_HTTPS=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup directory
BACKUP_DIR=/opt/backups

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Health check endpoints
HEALTH_CHECK_ENABLED=true

# Metrics collection
METRICS_ENABLED=false

# =============================================================================
# DEVELOPMENT/DEBUG (Set to false in production)
# =============================================================================

# Debug mode
DEBUG=false

# API Documentation (Swagger)
API_DOCS_ENABLED=false

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker network name
DOCKER_NETWORK=hoa-management-network

# Container names
BACKEND_CONTAINER=hoa_backend_prod
FRONTEND_CONTAINER=hoa_frontend_prod

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================

# Nginx configuration
NGINX_CLIENT_MAX_BODY_SIZE=10M
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_ENABLED=true

# HSTS (HTTP Strict Transport Security)
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Gzip compression
GZIP_ENABLED=true

# Static file caching (seconds)
STATIC_CACHE_MAX_AGE=86400

# API response caching
API_CACHE_ENABLED=false

# =============================================================================
# TIMEZONE CONFIGURATION
# =============================================================================

# Application timezone
TZ=America/Denver

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
FEATURE_PUBLIC_DOCUMENTS=true
FEATURE_EVENT_MANAGEMENT=true
FEATURE_USER_MANAGEMENT=true
FEATURE_FILE_UPLOADS=true

# =============================================================================
# MAINTENANCE MODE
# =============================================================================

# Maintenance mode (set to true to enable maintenance page)
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# =============================================================================
# NOTES
# =============================================================================

# 1. Change all default secrets and passwords
# 2. Update DOMAIN with your actual domain name
# 3. Configure email settings if you want notifications
# 4. Adjust file upload limits based on your needs
# 5. Set appropriate log levels for production
# 6. Review and adjust rate limiting settings
# 7. Configure backup retention based on your requirements
# Add email provider configuration
EMAIL_PROVIDER=sendgrid
EMAIL_FROM=no-reply@your-domain.com
EMAIL_FROM_NAME=HOA Community Hub
EMAIL_REPLY_TO=info@your-domain.com
# Set to your production frontend URL
FRONTEND_BASE_URL=https://your-frontend-domain
# Secret stored securely (do not commit real value)
SENDGRID_API_KEY=__SET_IN_SECRET_MANAGER__
PASSWORD_RESET_COOLDOWN_MINUTES=60
TURNSTILE_SECRET_KEY=
VITE_APP_NAME=Sanderson Creek HOA
